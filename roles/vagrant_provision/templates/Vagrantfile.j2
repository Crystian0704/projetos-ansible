# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure("2") do |config|
  (1..{{vm_provision_numbers}}).each do |i|
    config.vm.define "{{vm_provision_name}}_#{i}" do |node|
      node.vm.box = "{{ vm_provision_box }}"
      node.vm.network "private_network", ip: "{{ vm_provision_cidr_ip }}.#{1 + i}"
      node.vm.provider "libvirt" do |vb|
        vb.memory = {{ vm_provision_memory }}  
        vb.cpus = {{ vm_provision_cpus }}      
      end
    end
  end
end
